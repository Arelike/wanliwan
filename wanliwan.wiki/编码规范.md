> 以下内容，部分摘自 Node.js 编程规范。原文来自 [Felix's Node.js Style Guide][1]

## 缩进

由于 [Node.js][2] 异步编程的特点，很多地方需要多层函数的嵌套（回调函数的嵌套），很容易造成深层嵌套。在这里，我们采纳 [Node.js][2] 的编码建议，使用 2 空格缩进。

## 语句分隔

JavaScript 并不像 C/C++ 语言、Java语言等需要强制使用“;”进行语句的分隔。JavaScript 视行尾为语句结束，但是，为了规范代码风格，我们强制使用“;”作为语句的结束。这样也是为了使部分代码格式化软件（例如 JsBeautify）更好地工作。

## 变量的定义

使用 `var` 关键字显式声明变量，虽然 JavaScript 本身是弱类型语言，支持与大多数弱类型语言的“用到即定义”的特性，但是为了代码风格的统一以及提示下文所用到的变量，我们采用 `var` 统一定义变量。

另外，尽量减少一个 `var` 定义多个变量的情，即尽量采用

```javascript
var a;
var b;
var c;
```

而不是

```javascript
var a, b, c;
```

一方面是为了使各个变量都能得到充分的注释，另一方面是为了使代码对齐。

当然，在引入包的时候，我们采纳 [Express.js][3] 的建议，采用

```javascript
var lib1 = require('./lib/1')
  , lib2 = require('./lib/2');
```

即声明、使用都在同一行的情况。但是，这种定义方式在非等宽自体中并不对齐。

## 变量名和属性名

由于 JavaScript 和 Java 的相似性，变量名和属性名采用 lower camel case 命名法，也就是 Java 官方规范中所使用的方法。例如： `yourVariableName`、`nothingNew`。

## 函数

JavaScript 具有函数式编程的特性，因此函数和变量没有什么区别。对于一般的函数，我们采用和变量一样的命名方式，而对于特殊的函数，例如构造函数，我们采用 upper camel case命名法，也就是 Java 语言规范中对类名所采用的命名法，例如：`HelloWorld`。

而对于匿名函数，我们尽量为之命名。这样做的好处是可以定位错误，例如：

```javascript
req.on('end', function onEnd(err, message) {
  // callback function body
});
```

而不是

```javascript
req.on('end', function (err, message) {
  // callback function body
});
```

这样，在错误的时候，我们一般可以看到是哪个函数的错误。当然，如果觉得回调函数过多，可以选择性地命名。这並非强制要求。

## 关联数组初始化

将 `var xxx = {` 放在一行；下面接着每一行一对键/值，保持两空格的缩进，以逗号结尾；而最后一行写 `};` 来结尾。除非键的名称含有空格或者非法字符，否则一律不是用引号。

## 等号

尽量使用 `===` 而不是 `==` 来判断相等，因为 `==` 包含了隐式类型转换。详细内容，见 [w3school的ECMAScript教程](http://www.w3school.com.cn) 。


[1]: http://nodeguide.com/style.html "Felix's Node.js Style Guide"
[2]: http://www.nodejs.org/ "Node.js Document Site"
[3]: http://expressjs.com "Express.js Web "
